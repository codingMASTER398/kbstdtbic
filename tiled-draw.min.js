// Kinda bad block-tile renderer for canvas
// By https://coding398.dev/
const tiledDraw=function(e){const a=document.getElementById(e),t=a.getContext("2d"),i={},r=(e,a,r,m,c)=>{if(i[e])t.drawImage(i[e],a,r,m,c);else{var n=new Image;n.addEventListener("load",function(){t.drawImage(n,a,r,m,c),i[e]=n},!1),n.src=e}};return{draw:function(e){const i=JSON.parse(JSON.stringify(e));t.clearRect(0,0,a.width,a.height),imgDefaultSize=50*i.camera.zoom,i.camera.x=i.camera.x*imgDefaultSize*-1,i.camera.y=i.camera.y*imgDefaultSize*-1;for(let e=0;e<i.layers.length;e++){i.layers[e].forEach(e=>{e.x=e.x*imgDefaultSize,e.y=e.y*imgDefaultSize,r(e.img,i.camera.x+e.x,i.camera.y+e.y,imgDefaultSize,imgDefaultSize)})}}}};